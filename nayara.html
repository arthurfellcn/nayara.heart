<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Coração Explodindo Cinematográfico</title>
<style>
    body {
        margin: 0;
        background: radial-gradient(circle at center, #000000, #1a0000);
        overflow: hidden;
        font-family: 'Arial', sans-serif;
        height: 100vh;
    }
    h1 {
        font-size: 3em;
        opacity: 0;
        transition: opacity 1s, text-shadow 1s;
        color: white;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-shadow: 0 0 20px #ff4da6, 0 0 40px #ff1a75, 0 0 60px #ff0066;
        z-index: 2;
    }
    canvas {
        position: absolute;
        top: 0;
        left: 0;
    }
</style>
</head>
<body>
<canvas id="canvas"></canvas>
<h1 id="texto"></h1>

<audio id="musica" src="https://cdn.pixabay.com/audio/2022/02/15/audio_87995f0b8b.mp3"></audio>

<script>
// Configuração do canvas
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

// Função para desenhar mini corações
function drawSmallHeart(ctx, x, y, size, color) {
    ctx.beginPath();
    ctx.fillStyle = color;
    for (let t = 0; t < Math.PI * 2; t += 0.05) {
        let hx = size * 16 * Math.sin(t) ** 3;
        let hy = -size * (13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t));
        ctx.lineTo(x + hx, y + hy);
    }
    ctx.closePath();
    ctx.fill();
}

// Função para desenhar o coração grande
function drawHeart(scale = 10) {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.beginPath();
    ctx.fillStyle = "red";
    for (let t = 0; t < Math.PI * 2; t += 0.02) {
        let x = scale * 16 * Math.sin(t) ** 3;
        let y = -scale * (13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t));
        ctx.lineTo(canvas.width / 2 + x, canvas.height / 2 + y);
    }
    ctx.closePath();
    ctx.fill();
}

// Criar partículas do formato de coração
let particles = [];
function criarParticulasDoCoracao() {
    particles = [];
    for (let t = 0; t < Math.PI * 2; t += 0.1) {
        let x = 16 * Math.sin(t) ** 3;
        let y = -(13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t));
        particles.push({
            x: canvas.width / 2 + x * 10,
            y: canvas.height / 2 + y * 10,
            vx: (Math.random() - 0.5) * 8,
            vy: (Math.random() - 0.5) * 8,
            r: Math.random() * 0.5 + 0.2,
            color: `hsl(${Math.random() * 360}, 100%, 50%)`
        });
    }
}

// Explosão de partículas
function explodirCoracao() {
    criarParticulasDoCoracao();
    let anim = setInterval(() => {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        particles.forEach((p, i) => {
            drawSmallHeart(ctx, p.x, p.y, p.r * 10, p.color);
            p.x += p.vx;
            p.y += p.vy;
            p.r *= 0.96;
            if (p.r < 0.1) particles.splice(i, 1);
        });
        if (particles.length === 0) clearInterval(anim);
    }, 30);
}

// Texto aparecendo palavra por palavra
const palavras = ["Eu", "te", "amo", "nayara"];
let index = 0;
function mostrarTexto() {
    const texto = document.getElementById("texto");
    texto.style.opacity = 0;
    setTimeout(() => {
        texto.innerText = palavras[index];
        texto.style.opacity = 1;
        index++;
        if (index < palavras.length) {
            setTimeout(mostrarTexto, 2000);
        }
    }, 500);
}

// Sequência da animação
drawHeart(10);
const texto = document.getElementById("texto");
texto.innerText = "Simplesmente a pessoa mais incrível que eu conheci na vida";
texto.style.opacity = 1;

setTimeout(() => {
    document.getElementById("musica").play();
    texto.style.opacity = 0; // some antes da explosão
    explodirCoracao();
    setTimeout(mostrarTexto, 1000); // aparece as palavras individualmente
}, 3000);
</script>
</body>
</html>
